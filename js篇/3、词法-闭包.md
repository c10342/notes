# v8中js编译过程
第一步：词法分析，将代码分成一个个单词。词法分析=变量声明+函数声明+函数声明的形参 (登记这些东西，知道后续运行是去哪里获取的)
第二步：语法分析，将token解析成抽象语法树（ast），检查语法是否有错误，报错就不再执行
注意：词法分析和语法分析是交错运行的，词法分析生成token之后就给语法分析进行处理
第三步：代码生成，将ast转化成计算机可以识别的指令码

# 词法环境和闭包

闭包是由函数和声明该函数的词法环境组合而成
外部环境的闭包数据被存在了`堆`中，这样即使函数执行完毕之后内部变量一直都存在